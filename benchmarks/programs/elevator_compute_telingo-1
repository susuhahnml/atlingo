#!/bin/bash


ROOT="$1""/"
INSTANCE=$2
HORIZON=$3
MODELS=$4
LOGIC=$5
CLINGO_ARGS=$7
: ${CLINGO_ARGS:=''}


PATH_FROM_ATLINGO_TO_ROOT="benchmarks/benchmark-tool/"
PATH_FROM_ROOT_TO_ATLINGO="../../"
PATH_ENCODING="$ROOT""$PATH_FROM_ROOT_TO_ATLINGO""env/elevator/encoding.lp"



INSTANCE=${INSTANCE#"$ROOT"}
INSTANCE=${INSTANCE#"$PATH_FROM_ROOT_TO_ATLINGO"}
INSTANCE=${PATH_FROM_ATLINGO_TO_ROOT}${INSTANCE}
CONSTRAINT=$6
CONSTRAINT_NAME=$(basename "$CONSTRAINT")
ARGS="-q "$CLINGO_ARGS
COMMAND="	( cd $ROOT ; cd $PATH_FROM_ROOT_TO_ATLINGO ; make translate-run-telingo INSTANCE=$INSTANCE CONSTRAINT=$CONSTRAINT_NAME HORIZON=$HORIZON MODELS=$MODELS RUN_FILES=env/elevator/encoding.lp LOGIC=$LOGIC; make stats INSTANCE=$INSTANCE CONSTRAINT=$CONSTRAINT_NAME LOGIC=$LOGIC APP=elevator)"
echo $COMMAND
( cd $ROOT ; cd $PATH_FROM_ROOT_TO_ATLINGO ; make translate-run-telingo INSTANCE=$INSTANCE CONSTRAINT=$CONSTRAINT_NAME HORIZON=$HORIZON MODELS=$MODELS RUN_FILES=env/elevator/encoding.lp LOGIC=$LOGIC APP=elevator)
