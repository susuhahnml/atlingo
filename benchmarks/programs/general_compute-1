#!/bin/bash


ROOT="$1""/"
INSTANCE=$2
APP=$3
ENV_APP=$4
HORIZON=$5
MODELS=$6
LOGIC=$7
CONSTRAINT=$8
CLINGO_ARGS=$9
# FORCE_TRANSLATE=$(10)
: ${CLINGO_ARGS:=''}


PATH_FROM_ATLINGO_TO_ROOT="benchmarks/benchmark-tool/"
PATH_FROM_ROOT_TO_ATLINGO="../../"


INSTANCE=${INSTANCE#"$ROOT"}
INSTANCE=${INSTANCE#"$PATH_FROM_ROOT_TO_ATLINGO"}
INSTANCE=${PATH_FROM_ATLINGO_TO_ROOT}${INSTANCE}
CONSTRAINT_NAME=$(basename "$CONSTRAINT")
ARGS="-q "$CLINGO_ARGS
echo $ARGS
( cd $ROOT ; cd $PATH_FROM_ROOT_TO_ATLINGO ; make translate-run ENV_APP=$ENV_APP APP=$APP INSTANCE=$INSTANCE CONSTRAINT=$CONSTRAINT_NAME HORIZON=$HORIZON MODELS=$MODELS RUN_FILES="$ARGS " LOGIC=$LOGIC)


